#
# The following constraints are limitations of the hardware architecture and dataflow
#

architecture_constraints:
  targets:
  # Systolic array with spAL loading A and spBL loading B conditionally based on spAL input
  - target: spAL
    type: bypass
    bypass: [B,C]
    keep: [A]
  - target: spBL
    type: bypass
    bypass: [A,C]
    keep: [B]
  # No fan-out from spAL; permutations and factors should not matter
#  - target: spAL
#    type: spatial
#    split: 1
  # No fan-out from spBL; permutations and factors should not matter
#  - target: spBL
#    type: spatial
#    split: 1
  # enforce the hardware limit of the bypassing everything
#  - target: DummyBuffer
#    type: temporal
#    factors: N=1 M=1 C=1 P=1 Q=1 R=1 S=1
